(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(13),n=a.n(c),s=a(18),o=a(7),i=a(25),h=a(15),u="data",d=a(11),j="set weather",l="clear weather",p="set weather error",b={weather:{},error:null};var O=Object(o.c)(Object(h.a)({},u,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{weather:t.payload});case p:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case l:return b;default:return e}}))),f=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d)(o.a.apply(void 0,[i.a])),y=Object(o.e)(O,{},f),_=(a(35),function(e){return e.data}),x=function(e){return _(e).weather},m=function(e){return _(e).error},w="76aaec50cc7d0c284a86e64120a172a3",v="https://api.openweathermap.org/data/2.5/",g=function(e){return function(t,a){t({type:l});a();fetch("".concat(v,"weather?q=").concat(e,"&units=metric&appid=").concat(w)).then((function(e){return e.json()})).then((function(e){"404"===e.cod?t({type:p,payload:404}):t(function(e){return{type:j,payload:e}}(e))}))}},N=a(26),E=a(9),S=a(3),k=a(1);function D(){var e=Object(S.g)();return Object(k.jsx)("div",{className:"not-found",children:Object(k.jsxs)("div",{className:"not-found__container",children:[Object(k.jsx)("h1",{className:"not-found__heading",children:"404 Not Found"}),Object(k.jsx)("h1",{className:"not-found__heading not-found__heading--link",onClick:function(){e.push("/react-weather-app")},children:"Go to menu"})]})})}function M(e){var t,a=e.props,c=e.dateBuilder,n=e.query,s=e.setQuery,o=Object(S.h)().cityId,i=a.fetchApi,h=Object(S.g)();return Object(r.useEffect)((function(){i(o)}),[i,o]),Object(k.jsx)(k.Fragment,{children:a.error?Object(k.jsx)(D,{}):(null===(t=a.weather)||void 0===t?void 0:t.id)&&Object(k.jsxs)("div",{className:"weather",children:[Object(k.jsx)("div",{className:"weather__search-box",children:Object(k.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return s(e.target.value)},value:n,onKeyPress:function(e){"Enter"===e.key&&(h.push("/react-weather-app/".concat(n)),s(""))}})}),Object(k.jsxs)("div",{className:"weather__general-info",children:[Object(k.jsxs)("div",{className:"general-info__location",children:[a.weather.name,", ",a.weather.sys.country]}),Object(k.jsx)("div",{className:"general-info__date",children:c(new Date)})]}),Object(k.jsxs)("div",{className:"weather__info",children:[Object(k.jsxs)("div",{className:"info__temperature",children:[Math.round(a.weather.main.temp),"\xb0C"]}),Object(k.jsx)("div",{className:"info__weather",children:a.weather.weather[0].main})]})]})})}function C(e){var t=e.query,a=e.setQuery,r=Object(S.g)();return Object(k.jsxs)("div",{className:"home",children:[Object(k.jsxs)("div",{className:"home__heading",children:[Object(k.jsx)("h1",{className:"home__heading--one",children:"Weather App"}),Object(k.jsx)("h3",{className:"home__heading--two",children:"Check current weather in any place in the world!"})]}),Object(k.jsx)("div",{className:"home__search-box",children:Object(k.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return a(e.target.value)},value:t,onKeyPress:function(e){"Enter"===e.key&&(r.push("/react-weather-app/".concat(t)),a(""))}})})]})}var q=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),r=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],c=e.getFullYear();return"".concat(t," ").concat(a," ").concat(r," ").concat(c)};var A=function(e){var t=Object(r.useState)(""),a=Object(N.a)(t,2),c=a[0],n=a[1];return Object(k.jsx)(E.a,{children:Object(k.jsx)("div",{className:10>(new Date).getMonth()>4?"app":"app app--cold",children:Object(k.jsxs)(S.d,{children:[Object(k.jsx)(S.b,{exact:!0,path:"/react-weather-app",children:Object(k.jsx)(C,{query:c,setQuery:n})}),Object(k.jsx)(S.b,{path:"/react-weather-app/:cityId",children:Object(k.jsx)(M,{dateBuilder:q,props:e,query:c,setQuery:n})}),Object(k.jsx)(S.b,{path:"/react-weather-app/place-not-found",children:Object(k.jsx)(D,{})}),Object(k.jsx)(S.a,{to:"/react-weather-app"})]})})})},F=Object(o.d)(Object(s.b)((function(e,t){return{weather:x(e),error:m(e)}}),(function(e,t){return{fetchApi:function(t){return e(g(t))}}})))(A);n.a.render(Object(k.jsx)(s.a,{store:y,children:Object(k.jsx)(F,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0f0dfc74.chunk.js.map