(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(17),r=a.n(n),o=a(10),s=a(9),i=a(26),h=a(29),u=a(28),d=a(20),l=a(12),j="data",p=a(11),b="set weather",O="clear weather",f={weather:{}};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{weather:t.payload});case O:return f;default:return e}}var m=function(e){return Object(s.c)(Object(d.a)({router:Object(l.b)(e)},j,x))},w=Object(h.a)(),_=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d)(s.a.apply(void 0,[u.a,Object(i.a)(w)])),v=Object(s.e)(m(w),{},_),y=(a(41),function(e){return function(e){return e.data}(e).weather}),g=a(6),N="76aaec50cc7d0c284a86e64120a172a3",S="https://api.openweathermap.org/data/2.5/",C=function(e){return function(t,a){t({type:O});var c=a();t(Object(g.d)({pathname:e,state:Object(p.a)(Object(p.a)({},c.router.location.state),{},{errorStatusCode:null})}))}},E=function(e){return function(t,a){var c=a();console.log(c.router),fetch("".concat(S,"weather?q=").concat(e,"&units=metric&appid=").concat(N)).then((function(e){return e.json()})).then((function(a){"404"===a.cod?t(Object(g.e)({pathname:"/react-weather-app/".concat(e),state:Object(p.a)(Object(p.a)({},c.router.location.state),{},{errorStatusCode:a.cod})})):t({type:b,payload:a})}))}},k=a(31),D=a(19),M=a(3),P=a(1);function q(e){var t,a=e.props,n=e.dateBuilder,r=e.query,o=e.setQuery,s=Object(M.h)().cityId,i=a.fetchApi;return Object(c.useEffect)((function(){i(s)}),[i,s]),Object(P.jsx)(P.Fragment,{children:(null===(t=a.weather)||void 0===t?void 0:t.id)&&Object(P.jsxs)("div",{className:"weather",children:[Object(P.jsx)("div",{className:"weather__search-box",children:Object(P.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return o(e.target.value)},value:r,onKeyPress:function(e){"Enter"===e.key&&(a.changePath("/react-weather-app/".concat(r)),o(""))}})}),Object(P.jsxs)("div",{className:"weather__general-info",children:[Object(P.jsxs)("div",{className:"general-info__location",children:[a.weather.name,", ",a.weather.sys.country]}),Object(P.jsx)("div",{className:"general-info__date",children:n(new Date)})]}),Object(P.jsxs)("div",{className:"weather__info",children:[Object(P.jsxs)("div",{className:"info__temperature",children:[Math.round(a.weather.main.temp),"\xb0C"]}),Object(P.jsx)("div",{className:"info__weather",children:a.weather.weather[0].main})]})]})})}function A(e){var t=e.props,a=e.query,c=e.setQuery;Object(M.g)();return Object(P.jsxs)("div",{className:"home",children:[Object(P.jsxs)("div",{className:"home__heading",children:[Object(P.jsx)("h1",{className:"home__heading--one",children:"Weather App"}),Object(P.jsx)("h3",{className:"home__heading--two",children:"Check current weather in any place in the world!"})]}),Object(P.jsx)("div",{className:"home__search-box",children:Object(P.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return c(e.target.value)},value:a,onKeyPress:function(e){"Enter"===e.key&&(t.changePath("/react-weather-app/".concat(a)),c(""))}})})]})}function F(e){var t=e.props;return Object(P.jsx)("div",{className:"not-found",children:Object(P.jsxs)("div",{className:"not-found__container",children:[Object(P.jsx)("h1",{className:"not-found__heading",children:"404 Not Found"}),Object(P.jsx)("h1",{className:"not-found__heading not-found__heading--link",onClick:function(){t.changePath("/react-weather-app")},children:"Go to menu"})]})})}var J=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),c=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=e.getFullYear();return"".concat(t," ").concat(a," ").concat(c," ").concat(n)},I=a(30),Q=function(e){var t=e.children,a=e.props;switch(Object(I.get)(a.location.state,"errorStatusCode")){case"404":return Object(P.jsx)(F,{props:a});default:return t}};var T=function(e){var t,a=Object(c.useState)(""),n=Object(k.a)(a,2),r=n[0],o=n[1];return Object(P.jsx)(D.a,{children:Object(P.jsx)(Q,{props:e,children:Object(P.jsx)("div",{className:10>(new Date).getMonth()>4||(null===(t=e.weather.main)||void 0===t?void 0:t.temp)>16?"app":"app app--cold",children:Object(P.jsxs)(M.d,{location:e.location,children:[Object(P.jsx)(M.b,{exact:!0,path:"/react-weather-app",children:Object(P.jsx)(A,{props:e,query:r,setQuery:o})}),Object(P.jsx)(M.b,{path:"/react-weather-app/:cityId",children:Object(P.jsx)(q,{dateBuilder:J,props:e,query:r,setQuery:o})}),Object(P.jsx)(M.b,{path:"/react-weather-app/place-not-found",children:Object(P.jsx)(F,{props:e})}),Object(P.jsx)(M.a,{to:"/react-weather-app"})]})})})})},B=Object(s.d)(Object(o.c)((function(e,t){return{weather:y(e),location:e.router.location}}),(function(e,t){return{fetchApi:function(t){return e(E(t))},changePath:function(t){return e(C(t))}}})))(T);r.a.render(Object(P.jsx)(o.a,{store:v,context:o.b,children:Object(P.jsx)(l.a,{history:w,context:o.b,children:Object(P.jsx)(B,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.a92fa224.chunk.js.map