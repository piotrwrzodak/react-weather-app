(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(17),r=a.n(n),o=a(10),s=a(9),i=a(26),h=a(29),u=a(28),d=a(19),j=a(11),l="data",p=a(23),b="set weather",O={weather:{}};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{weather:t.payload});default:return e}}var x=function(e){return Object(s.c)(Object(d.a)({router:Object(j.b)(e)},l,f))},m=Object(h.a)(),w=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d)(s.a.apply(void 0,[u.a,Object(i.a)(m)])),_=Object(s.e)(x(m),{},w),v=(a(41),function(e){return function(e){return e.data}(e).weather}),y=a(6),g="76aaec50cc7d0c284a86e64120a172a3",N="https://api.openweathermap.org/data/2.5/",S=function(e){return function(t){t(Object(y.d)(e))}},E=function(e){return function(t,a){var c=a();fetch("".concat(N,"weather?q=").concat(e,"&units=metric&appid=").concat(g)).then((function(e){return e.json()})).then((function(e){"404"===e.cod?t(Object(y.e)(c.router.location.state,{errorStatusCode:e.cod})):t({type:b,payload:e})}))}},C=a(31),D=a(12),M=a(3),P=a(1);function k(e){var t,a=e.props,n=e.dateBuilder,r=e.query,o=e.setQuery,s=Object(M.h)().cityId,i=Object(M.g)(),h=a.fetchApi;return Object(c.useEffect)((function(){h(s)}),[h,s]),Object(P.jsx)(P.Fragment,{children:(null===(t=a.weather)||void 0===t?void 0:t.id)&&Object(P.jsxs)("div",{className:"weather",children:[Object(P.jsx)("div",{className:"weather__search-box",children:Object(P.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return o(e.target.value)},value:r,onKeyPress:function(e){"Enter"===e.key&&(a.changePath("/react-weather-app/".concat(r)),i.push("/react-weather-app/".concat(r)),o(""))}})}),Object(P.jsxs)("div",{className:"weather__general-info",children:[Object(P.jsxs)("div",{className:"general-info__location",children:[a.weather.name,", ",a.weather.sys.country]}),Object(P.jsx)("div",{className:"general-info__date",children:n(new Date)})]}),Object(P.jsxs)("div",{className:"weather__info",children:[Object(P.jsxs)("div",{className:"info__temperature",children:[Math.round(a.weather.main.temp),"\xb0C"]}),Object(P.jsx)("div",{className:"info__weather",children:a.weather.weather[0].main})]})]})})}function q(e){var t=e.props,a=e.query,c=e.setQuery,n=Object(M.g)();return Object(P.jsxs)("div",{className:"home",children:[Object(P.jsxs)("div",{className:"home__heading",children:[Object(P.jsx)("h1",{className:"home__heading--one",children:"Weather App"}),Object(P.jsx)("h3",{className:"home__heading--two",children:"Check current weather in any place in the world!"})]}),Object(P.jsx)("div",{className:"home__search-box",children:Object(P.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return c(e.target.value)},value:a,onKeyPress:function(e){"Enter"===e.key&&(t.changePath("/react-weather-app/".concat(a)),n.push("/react-weather-app/".concat(a)),c(""))}})})]})}function A(e){var t=e.props;return Object(P.jsx)("div",{className:"not-found",children:Object(P.jsxs)("div",{className:"not-found__container",children:[Object(P.jsx)("h1",{className:"not-found__heading",children:"404 Not Found"}),Object(P.jsx)(D.b,{className:"not-found__heading",to:"/",onClick:function(){t.changePath("/react-weather-app")},children:"Go to menu"})]})})}var F=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),c=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=e.getFullYear();return"".concat(t," ").concat(a," ").concat(c," ").concat(n)},J=a(30),I=function(e){var t=e.children,a=e.props;switch(Object(J.get)(a.location.state,"errorStatusCode")){case"404":return Object(P.jsx)(A,{props:a});default:return t}};var Q=function(e){var t,a=Object(c.useState)(""),n=Object(C.a)(a,2),r=n[0],o=n[1];return Object(P.jsx)(D.a,{children:Object(P.jsx)(I,{props:e,children:Object(P.jsx)("div",{className:10>(new Date).getMonth()>4||(null===(t=e.weather.main)||void 0===t?void 0:t.temp)>16?"app":"app app--cold",children:Object(P.jsxs)(M.d,{children:[Object(P.jsx)(M.b,{exact:!0,path:"/react-weather-app",children:Object(P.jsx)(q,{props:e,query:r,setQuery:o})}),Object(P.jsx)(M.b,{path:"/react-weather-app/:cityId",children:Object(P.jsx)(k,{dateBuilder:F,props:e,query:r,setQuery:o})}),Object(P.jsx)(M.b,{path:"/react-weather-app/place-not-found",children:Object(P.jsx)(A,{props:e})}),Object(P.jsx)(M.a,{to:"/react-weather-app"})]})})})})},T=Object(s.d)(Object(o.c)((function(e,t){return{weather:v(e),location:e.router.location}}),(function(e,t){return{fetchApi:function(t){return e(E(t))},changePath:function(t){return e(S(t))}}})))(Q);r.a.render(Object(P.jsx)(o.a,{store:_,context:o.b,children:Object(P.jsx)(j.a,{history:m,context:o.b,children:Object(P.jsx)(T,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.b6c65dc4.chunk.js.map