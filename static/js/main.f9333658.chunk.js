(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(18),n=a.n(r),o=a(10),s=a(9),i=a(26),h=a(29),u=a(28),d=a(20),j=a(12),l="data",p=a(11),b="set weather",O="clear weather",f={weather:{}};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{weather:t.payload});case O:return f;default:return e}}var m=function(e){return Object(s.c)(Object(d.a)({router:Object(j.b)(e)},l,x))},w=Object(h.a)(),v=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d)(s.a.apply(void 0,[u.a,Object(i.a)(w)])),y=Object(s.e)(m(w),{},v),_=(a(41),function(e){return function(e){return e.data}(e).weather}),g=a(6),N="76aaec50cc7d0c284a86e64120a172a3",S="https://api.openweathermap.org/data/2.5/",C=function(e){return function(t,a){t({type:O});var c=a();t(Object(g.d)({pathname:e,state:Object(p.a)(Object(p.a)({},c.router.location.state),{},{errorStatusCode:null})}))}},E=function(e){return function(t,a){var c=a();console.log(c.router),fetch("".concat(S,"weather?q=").concat(e,"&units=metric&appid=").concat(N)).then((function(e){return e.json()})).then((function(a){"404"===a.cod?t(Object(g.d)({pathname:"/react-weather-app/".concat(e),state:Object(p.a)(Object(p.a)({},c.router.location.state),{},{errorStatusCode:a.cod})})):t({type:b,payload:a})}))}},D=a(31),M=a(13),k=a(3),q=a(1);function A(e){var t,a=e.props,r=e.dateBuilder,n=e.query,o=e.setQuery,s=Object(k.h)().cityId,i=Object(k.g)(),h=a.fetchApi;return Object(c.useEffect)((function(){h(s)}),[h,s]),Object(q.jsx)(q.Fragment,{children:(null===(t=a.weather)||void 0===t?void 0:t.id)&&Object(q.jsxs)("div",{className:"weather",children:[Object(q.jsx)("div",{className:"weather__search-box",children:Object(q.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return o(e.target.value)},value:n,onKeyPress:function(e){"Enter"===e.key&&(i.push("/react-weather-app/".concat(n)),o(""))}})}),Object(q.jsxs)("div",{className:"weather__general-info",children:[Object(q.jsxs)("div",{className:"general-info__location",children:[a.weather.name,", ",a.weather.sys.country]}),Object(q.jsx)("div",{className:"general-info__date",children:r(new Date)})]}),Object(q.jsxs)("div",{className:"weather__info",children:[Object(q.jsxs)("div",{className:"info__temperature",children:[Math.round(a.weather.main.temp),"\xb0C"]}),Object(q.jsx)("div",{className:"info__weather",children:a.weather.weather[0].main})]})]})})}function F(e){e.props;var t=e.query,a=e.setQuery,c=Object(k.g)();return Object(q.jsxs)("div",{className:"home",children:[Object(q.jsxs)("div",{className:"home__heading",children:[Object(q.jsx)("h1",{className:"home__heading--one",children:"Weather App"}),Object(q.jsx)("h3",{className:"home__heading--two",children:"Check current weather in any place in the world!"})]}),Object(q.jsx)("div",{className:"home__search-box",children:Object(q.jsx)("input",{type:"text",className:"search-box__input",placeholder:"Search...",onChange:function(e){return a(e.target.value)},value:t,onKeyPress:function(e){"Enter"===e.key&&(c.push("/react-weather-app/".concat(t)),a(""))}})})]})}function J(e){var t=e.props;return Object(q.jsx)("div",{className:"not-found",children:Object(q.jsxs)("div",{className:"not-found__container",children:[Object(q.jsx)("h1",{className:"not-found__heading",children:"404 Not Found"}),Object(q.jsx)(M.b,{className:"not-found__heading",to:"/react-weather-app",onClick:function(){t.changePath("/react-weather-app")},children:"Go to menu"})]})})}var P=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),c=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],r=e.getFullYear();return"".concat(t," ").concat(a," ").concat(c," ").concat(r)},I=a(30),Q=function(e){var t=e.children,a=e.props;switch(Object(I.get)(a.location.state,"errorStatusCode")){case"404":return Object(q.jsx)(J,{props:a});default:return t}};var T=function(e){var t,a=Object(c.useState)(""),r=Object(D.a)(a,2),n=r[0],o=r[1];return Object(q.jsx)(M.a,{children:Object(q.jsx)(Q,{props:e,children:Object(q.jsx)("div",{className:10>(new Date).getMonth()>4||(null===(t=e.weather.main)||void 0===t?void 0:t.temp)>16?"app":"app app--cold",children:Object(q.jsxs)(k.d,{children:[Object(q.jsx)(k.b,{exact:!0,path:"/react-weather-app",children:Object(q.jsx)(F,{props:e,query:n,setQuery:o})}),Object(q.jsx)(k.b,{path:"/react-weather-app/:cityId",children:Object(q.jsx)(A,{dateBuilder:P,props:e,query:n,setQuery:o})}),Object(q.jsx)(k.b,{path:"/react-weather-app/place-not-found",children:Object(q.jsx)(J,{props:e})}),Object(q.jsx)(k.a,{to:"/react-weather-app"})]})})})})},B=Object(s.d)(Object(o.c)((function(e,t){return{weather:_(e),location:e.router.location}}),(function(e,t){return{fetchApi:function(t){return e(E(t))},changePath:function(t){return e(C(t))}}})))(T);n.a.render(Object(q.jsx)(o.a,{store:y,context:o.b,children:Object(q.jsx)(j.a,{history:w,context:o.b,children:Object(q.jsx)(B,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.f9333658.chunk.js.map